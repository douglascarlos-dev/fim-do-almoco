<!doctype html>
<html lang="pt-br">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Fim do Almoço</title>
  <meta name="description" content="Calcule o seu horário de almoço">
  <meta name="author" content="Douglas Carlos">
  <meta property="og:title" content="Calcule o seu horário de almoço"/>
  <meta property="og:description" content="Calcule o seu horário de almoço"/>
  <meta name="author" content="Douglas Carlos">
  <link rel="stylesheet" href="css/bootstrap.min.css" crossorigin="anonymous">
  <link rel="canonical" href="https://fim-do-almoco.pages.dev/">
  <link rel="apple-touch-icon" href="img/512x512.png">
  <link rel="shortcut icon" href="img/despertador.ico">
  <link rel="icon" type="image/png" href="img/512x512.png">
  <style>
    .container {
      padding: 0 20px;
    }
    /*!
  * Dark Mode Switch v1.0.1 (https://github.com/coliff/dark-mode-switch)
  * Copyright 2021 C.Oliff
  * Licensed under MIT (https://github.com/coliff/dark-mode-switch/blob/main/LICENSE)
  */
  [data-theme="dark"] {
    background-color: #111 !important;
    color: #eee;
  }
  [data-theme="dark"] .form-text {
      margin-top: 0.25rem;
      font-size: .875em;
      color: rgb(255 255 255 / 75%);
  }
  [data-theme="dark"] .text-muted {
      --bs-text-opacity: 1;
      color: rgb(255 255 255 / 75%)!important;
  }
  .slider-width
  {
      width: 300px;
      accent-color: #0d6efd;
  }
  </style>
</head>

<body>

    <div class="container mx-auto col-md-8 order-md-1">
      <br>
      <h2>Fim do Almoço</h2>
      <div class="form-check form-switch">
        <input type="checkbox" class="form-check-input" id="darkSwitch" />
        <label class="custom-control-label" for="darkSwitch">Dark Mode</label>
      </div>
    <img src="img/despertador.png" id="despertador" alt="Ícone App Fim do Almoço" width="100" height="100">
    <form name="yourform">
        <div class="mb-3">
          <label for="InputTime" class="form-label"><b>Início do almoço</b></label><br>
          <input type="time" class="form-check-label" id="InputTime" aria-describedby="Time" min="09:00" max="18:00" required onClick="clean()">
          <div id="time"><p>Coloque o horário que você bateu o seu ponto para ir almoçar.</p></div>
        </div>
        <div class="mb-3 tempo">
          <label for="InputBreak" class="form-label">Tempo de almoço</label><br>
          <input type="radio" class="form-check-label" id="break1" name="break" value="30" onClick="onClick(30)">
          <label for="html">30 min.</label>
          <input type="radio" class="form-check-label" id="break2" name="break" value="45" onClick="onClick(45)">
          <label for="css">45 min.</label>
          <input type="radio" class="form-check-label" id="break3" name="break" value="60" onClick="onClick(60)">
          <label for="css">60 min.</label><br><br>
          <div>
            <input type="range" class="slider-width" id="time_input" name="tempo" min="0" max="120" value="0" step="5" list="markers" />
            <label for="volume"><output id="value"></output> min.</label>
            <datalist id="markers">
              <option value="0"></option>
              <option value="15"></option>
              <option value="30"></option>
              <option value="45"></option>
              <option value="60"></option>
              <option value="90"></option>
              <option value="120"></option>
            </datalist>
          </div>
        </div>
        <div class="mb-3">
        <label for="InputTime2" class="form-label"><b>Fim do almoço</b></label><br>
        <input type="time" class="form-check-label" id="InputTime2" name="InputTime2" aria-describedby="emailHelp">
        </div>
      </form>
      <p>O site "Fim do Almoço" permite calcular o horário de término do almoço. O usuário insere o horário de início do intervalo e seleciona a duração (30, 45 ou 60 minutos), e o site exibe a hora de retorno ao trabalho. É simples e prático para gerenciar pausas de almoço.</p>
      <footer class="pt-3 my-md-2">
        <div class="row">
          <div class="col-12 col-md">
            <small class="d-block mb-3 text-muted text-center">© 2024  - GitHub<br><a href="https://douglascarlos.dev" target="_blank"><img src="./img/logo.svg" alt="Ícone Douglas Carlos" style="height:35px;"></a>
              &nbsp;<a href="https://github.com/douglascarlos-dev/fim-do-almoco" target="_blank"><img id="minhaImagem" class="minha-imagem" src="./img/github-mark-black.svg" alt="Ícone GitHub" style="height:35px;"></a></small>
          </div>
        </div>
      </footer>
    </div>
<script type="text/javascript" src="js/jquery-3.5.1.slim.min.js"></script>
<script src="js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
<script src="js/moment-with-locales.js"></script>
<script type="text/javascript">

function onClick(tempo_de_almoco) {
    const inicio_almoco = document.getElementById('InputTime').value;
    var inicio = new Date();
    var fim = new Date();
    inicio = inicio_almoco;
    fim = moment.utc(inicio,'HH:mm').add(tempo_de_almoco,'minutes').format('HH:mm');
    $('#time_input').val(tempo_de_almoco);
    document.forms['yourform']['InputTime2'].value = fim;
    value.textContent = tempo_de_almoco;
}
function clean() {
  $('#time_input').val(0);
  clean2();
}

function clean2() {
    document.forms['yourform']['InputTime2'].value = "";
    $("#break1").prop("checked", false);
    $("#break2").prop("checked", false);
    $("#break3").prop("checked", false);
    value.textContent = 0;
}

const value = document.querySelector("#value");
const input = document.querySelector("#time_input");
value.textContent = input.value;
input.addEventListener("input", (event) => {
  clean2();
  value.textContent = event.target.value;
  if (event.target.value == 30) {
    $("#break1").prop("checked", true);
  } else if (event.target.value == 45) {
    $("#break2").prop("checked", true);
  } else if (event.target.value == 60) {
    $("#break3").prop("checked", true);
  }

});

$(document).ready(function() {
    $('#time_input').on('input', function() {
        var valorRange = $(this).val();

        const inicio_almoco = document.getElementById('InputTime').value;
        var inicio = new Date();
        var fim = new Date();
        inicio = inicio_almoco;
        fim = moment.utc(inicio,'HH:mm').add(valorRange,'minutes').format('HH:mm');

        document.forms['yourform']['InputTime2'].value = fim;
    });
});

document.forms['yourform']['InputTime'].value = moment().format('HH:mm');

console.log('Gostou do projeto? Deixe uma estrelinha no GitHub para me ajudar a crescer! ⭐ https://github.com/douglascarlos-dev/fim-do-almoco');
</script>
<script src="js/dark-mode-switch.min.js"></script>
</body>
</html>
